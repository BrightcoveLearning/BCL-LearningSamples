<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
	<head>
		<title>Media API Exercise</title>
				<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<style type="text/css">
			body {font-family : Helvetica,Arial,sans-serif; color : #619FA8;}
			legend {
				color: #CF0050;
			}
		</style>
		<script type="text/javascript" src="http://files.brightcove.com/bc-mapi.js"></script>
		

	</head>
	<body>
		<h2>Media API Training</h2>
    <fieldset>
      <legend>API Query</legend> <p id="query" style="width:100%;border:none"></p>
    </fieldset><br>
    <fieldset>
      <legend>Results</legend>
			<div id="results"></div>
    </fieldset><br>
		<!-- This is the script to modify for the exercise -->
		<script type="text/javascript">
			// BCL Media API search maker -- adapted from JS-MAPI on opensource.brightcove.com
			// namespace to keep all the "global" vars together
			var BCL = {};
			BCMAPI.token = "j1R2gIYQ1wvkR6Vb-mvPQf51d6BH_GMUlyQWEuNiqOSxBOQGQOfIjw..";
			BCMAPI.callback = "BCL.onSearchResponse";
			BCL.params = {};
			BCL.params.any = "";
			BCL.params.page_size = 1;
			BCL.params.media_delivery = "http";
			BCMAPI.search(BCL.params);
			// log(BCL.params);
			BCL.onSearchResponse = function(jsonData) {
				document.getElementById("query").innerHTML = BCL.srcValue;
				console.log(jsonData);
				var str = "";
				for (var i = 0; i < jsonData["items"].length; i++) {
					var video = jsonData["items"][i];
					str += video.FLVURL + "<br/>"
				}
				document.getElementById("results").innerHTML = str;
			}

		</script>

	</body>
</html>
