<!DOCTYPE html>
<html>

  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Smart Player API Exercise 4b</title>
  <style>
    body {
    font-family : Helvetica,Arial,sans-serif; 
    color : #619FA8;
    padding: 50px;
    }
    a {
       cursor: pointer;
    }
    #BCL-playerWrapper {
      padding: 0px;
      position:relative;
    }
    #BCL {
      position:absolute;
      /******
      the following values determine the location of the videoStill image;
      they are pixels measurements from the top left corner of the 
      video player
      ******/
      left:20px;
      top:20px;
     
    }
    #BCL img {
      visibility: visible;
      -webkit-transition: opacity 1s ease-in-out;
      -moz-transition: opacity 1s ease-in-out;
      -o-transition: opacity 1s ease-in-out;
      transition: opacity 1s ease-in-out;
    }
    
    #BCL img.hidden {
      visibility: hidden;
    }
    #BCL img.transparent {
      visibility: visible;
      opacity:0;
    }
    #BCL img.opaque {
      visibility: visible;
      opacity: 1;
    }
    #BCL_onclick {
      cursor:pointer;
    }

  </style>
  </head>

  <body>
    <div id="BCL-playerWrapper">
    <!-- Start of Brightcove Player -->
    <div style="display:none"></div>
    <script language="JavaScript" type="text/javascript" src="http://admin.brightcove.com/js/BrightcoveExperiences.js"></script>
    <object id="myExperience1785880099001" class="BrightcoveExperience">
      <param name="bgcolor" value="#FFFFFF" />
      <param name="width" value="590" />
      <param name="height" value="332" />
      <param name="playerID" value="1785549116001" />
      <param name="playerKey" value="AQ~~,AAAADXdqFgE~,aEKmio9UXaiIGkaZsDcv8oF7O6vHDOp-" />
      <param name="isVid" value="true" />
      <param name="isUI" value="true" />
      <param name="dynamicStreaming" value="true" />
      <!-- the value below is the video ID -->
      <param name="@videoPlayer" value="1785880099001" />
      <!-- need to add the param below so overlays work in Flash -->
      <param name="wmode" value="transparent" />
      <!-- params for Smart Player API -->
      <param name="includeAPI" value="true" />
      <param name="templateLoadHandler" value="onTemplateLoaded" />
      <param name="templateReadyHandler" value="onTemplateReady" />
    </object>
    <script type="text/javascript">brightcove.createExperiences();</script>
    <!-- End of Brightcove Player -->
      <div id="BCL" class="shadow">
        img id="videoStill" class="transparent" src="http://files.brightcove.com/1x1.png" />      </div>
      </div>
    <script type="text/javascript">
			(function() {
				videoImage = document.getElementById("videoStill");
				clickThru = document.getElementById("videoStillLink");
				//event listener for template loaded
				onTemplateLoaded = function(experienceID) {
					log("template loaded");
					player = brightcove.api.getExperience(experienceID);
				}
				// event listener for the player being ready
				onTemplateReady = function(event) {
					log("template ready");
					// get a reference to the video player and add listener for media complete
					videoPlayer = player.getModule(brightcove.api.modules.APIModules.VIDEO_PLAYER);
					// get the long description and parse it
					videoPlayer.getCurrentVideo(function(videoDTO) {
           image.setAttribute("src", videoDTO.videoStillURL;;
           image.setAttribute("class", "opaque");
            
					})
        };
        // debugging tool - wraps console.log to avoid errors in IE 7 & 8
				log = function(message) {
					if (window["console"] && console["log"]) {
						var d = new Date();
						console.log(d + ": ");
						console.log(message);
					};
				};
			})();
    </script>

  </body>

</html> 
