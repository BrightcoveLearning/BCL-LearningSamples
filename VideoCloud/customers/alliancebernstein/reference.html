<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width">
    <title>Brightcove Video Cloud Analytics API Documentation</title>
    <link rel="stylesheet" type="text/css" href="http://files.brightcove.com/BCL-document.css" />
    <link rel="stylesheet" type="text/css" href="http://files.brightcove.com/BCL-api.css" />
    <script type="text/javascript" src="http://files.brightcove.com/jquery-1.8.0.min.js"></script>
    <!-- <link rel="stylesheet" type="text/css" href="mobile.css" media="only
    screen and (max-device-width: 1024px)">
    -->
    <link rel="stylesheet" type="text/css" href="http://files.brightcove.com/google-code-prettify/styles/brightcove.css">
    <style>
    h2 {
      border-bottom: 1px #999 solid;
    }
    h3 {
      font-style: italic;
    }
    </style>
  </head>
  <body>
    <div id="header">
      <h1><a href="index.html">Brightcove <strong>Developer</strong> Documentation</a></h1>
      <small> <a href="http://brightcove.com">Brightcove.com</a>&nbsp;<a href="http://blog.brightcove.com">Blog</a>&nbsp;<a href="http://support.brightcove.com">Support</a>&nbsp;<a href="http://forum.brightcove.com">Forums</a> </small>
    </div>
    <div id="subheader" class="videocloud">
      <h1><strong class="BCL_productName"><a href="video-cloud.html">Video Cloud</a> &gt; <a href="#">Analytics API</a> &gt; <a href="#">API Reference</a></strong></h1>
    </div>
    <div id="sidebar" class="menuAcdn" animation="true" expand="single">
      <div class="vertical_divider"></div>
      <!-- <small><span class="BCL-area"><a href="./BCL-guide-sample.html">Guides</a></span> <span class="BCL-area BCL-area-selected"><a href="./BCL-api-sample.html">API Reference</a></span></small> -->
      <h1>Analytics API Reference</h1>
      <div class="arrowlistmenu">
        <h3 class="menuheader"><a href="#">Quick Start Guide</a></h3>
        <!-- <h3 class="menuheader"><a href="#">Samples</a></h3> -->
        <h3 class="menuheader expandable"><a href="./reference.html">Reference</a></h3>
        <ul class="categoryitems">
          <li><a href="#URL">Service URL</a></li>
          <li><a href="#authorization">Authorization</a></li>
          <li><a href="#account">Access Your Account</a></li>
          <li><a href="#report">Get Account Analytics Report</a></li>
          <li><a href="#sort">Sort Results</a></li>
          <li><a href="#page">Paginate Results</a></li>
          <li><a href="#date">Set Date From and To</a></li>
          <li><a href="#filter">Filtering Responses</a></li>
        </ul>
      </div>
    </div>
    <div id="scrollable">
      <div id="content">
        <div class="BCL_introduction">
          <h1>Video Cloud Analytics API</h1>
          <p class="BCL_teaser">
            This topic covers the request format for the  Analytics API for the Video Cloud domain. 
          </p>
          <!--break-->
          <p>The Analytics API allows you to obtain analytics data for your Video Cloud accounts directly. You can also view the built-in analytics report in the Analytics Module of Video Cloud Studio. Accessing the data programmatically gives you additional flexibility for such purposes as:</p>
          <ul>
            <li>Creating custom charts and displays</li>
            <li>Merging or aggregating data from multiple accounts</li>
            <li>Combining your video analytic data with other site analytics data</li>
          </ul>
        </div>
        <p class="BCL_aside">Note that access to the Analytics API is currently limited and available only for Professional or Enterprise accounts.If you are interested in getting access to the Analytics API, please contact your Account Manager.</p>
        <div class="BCL_concept">
          <h2 class="BCL_conceptTitle"><a id="URL" name="URL"></a>Service URL</h2>
          <p>
            The general service URL for the Video Cloud Analytics API is:
          </p>
          <pre style="color:#F5F5F5;"><code>https://data.brightcove.com/analytics-api/</code></pre>
          <p>All requests described here are GET requests.</p>
        </div>
        <div class="BCL-concept">
          <h2 class="BCL-conceptTitle"><a id="authorization" name="authorization"></a>Authorization</h2>
          <p>Authentication for Analytics API service requests is based on a token that is provided to you when you are given access. The token must be included in the HTTP request header in the form</p>
          <pre style="color:#F5F5F5;"><code>Authorization: Bearer &lt;token&gt;</code></pre>
        </div>
        <div class="BCL-concept">
          <h2 class="BCL-conceptTitle"><a id="account" name="account"></a>Accessing Your Account</h2>
          <p>The basic syntax for accessing your Video Cloud account analytics data is:</p>
          <pre style="color:#F5F5F5;"><code>https://data.brightcove.com/analytics-api/videocloud/account/123456789</code></pre>
          <p>An account level request without dimensions or parameters will return a rollup of the aggregate analytics metrics for the account. A possible implementation would be:</p>
          <pre class="prettyprint"><code>curl -H "Authorization:Bearer 14f9acd32e4b036b56047a523"  
"https://data.brightcove.com/analytics-api/videocloud/account/57838016001"</code></pre>
        </div>
        <div class="BCL-concept">
          <h2 class="BCL-conceptTitle"><a id="report" name="report"></a>Getting Analytics Reports for an Account</h2>
          <p>Request a report to get an analytics report for an account rather than the data roll-up obtained in the manner descriped above. When you request a report, you can specify the dimension as <code>video</code> or <code>player</code>.</p>
          <p>The general syntax for a report request would be:</p>
          <pre style="color:#F5F5F5;"><code>https://data.brightcove.com/analytics-api/account/57838016001/report?dimensions=video</code></pre>
          <p>The data returned will look like this:</p>
          <pre class="prettyprint"><code>GET /videocloud/account/123/report?dimensions=video
{
  item_count:1000,
  account:123,
  from: 1342396800000,
  to: 1342465200000,
  items: [
    {
      video:987,
      video_name:"video 987",
      video_duration:128,
      video_view: 58,
      video_engagement_25:46,
      video_engagement_50:33.5,
      video_engagement_75:21,
      video_engagement_100:8.5,
      video_percent_viewed: 3325.0,
      video_seconds_viewed: 3990.0,
    },
    [etc...]
  ]
}</code></pre>
<div class="BCL-subsection">
 <h3 class="BCL-subsectionTitle"><a id="sort" name="sort">Sorting Report Results</a></h3>
 <p>You can add sorting of the results on any of the fields returned in the items objects. For the video dimension, for example, you can sort on video_name, video_duration, video_view, video_engagement_25, video_engagement_50, video_engagement_75, video_engagement_100, video_percent_viewed, or video_seconds_viewed. To sort by video_view, for example, the request would look like:</p>
 <pre style="color:#F5F5F5;"><code>https://data.brightcove.com/analytics-api/videocloud/account/123/report?dimensions=video&sort=video_view</code></pre>
 <p>By default the results are unsorted.</p>
</div>
<div class="BCL-subsection">
 <h3 class="BCL-subsectionTitle"><a id="page" name="page"></a>Paginating Report Results</h3>
 <p>You can paginate the report results by using <code>offset</code> and <code>limit</code> parameters, where the limit specifies the number of results to return, and the offset specfies the number of items to skip. For example:</p>
 <pre style="color:#F5F5F5;"><code>https://data.brightcove.com/analytics-api/videocloud/account/123/report?dimensions=video&offset=60&limit=20</code></pre>
<p>The request above would return items 61-80. Pagination may be used in combination with sorting, and the default values are:</p>
  <ul>
    <li>limit: 10</li>
    <li>offset: 0</li>
  </ul>
</div>
<div class="BCL-subsection">
<h3 class="BCL-subsectionTitle"><a id="date" name="date"></a>Using Parameters to Limit the To and From Dates</h3>
 <p>Unless otherwise specified, responses will include data from '30 days ago' until the current moment. To change the time period included in the response, include <code>from</code> and <code>to</code> as query string parameters, where acceptable values are specified in milliseconds since epoch:</p>
<pre style="color:#F5F5F5;"><code>// analytics data metrics for account 123, from 6/1/12 00:00:00 GMT to 6/15/12 00:00:00 GMT
https://data.brightcove.com/analytics-api/videocloud/account/123?from=1338508800000&to=1339718400000</code></pre>
<p>The default value for the <code>to</code> parameter is <em>now</em>, so a report ending with the current moment can be obtained by passing <code>to=now</code> or simply omitting the <code>to</code> parameter.</p>
<p>Use <code>from=alltime</code> to set the starting point to when analytics data for the account was first collected. To get a roll-up of all data, then, you could use:</p>
<pre style="color:#F5F5F5;"><code>https://data.brightcove.com/analytics-api/videocloud/account/123?from=alltime&to=now</code></pre>
</div>
<div class="BCL-subsection">
 <h3 class="BCL-subsectionTitle"><a id="filter" name="filter"></a>Filtering the Response</h3>
 <p>To filter analytics data included in the response, include the <code>where</code> parameter. Including the <code>where</code> parameter will limit the response to only including data that matches the specified clause:</p>
<pre style="color:#F5F5F5;"><code>// analytics data metrics for player 564 (which belongs to account 123)
// collected when video 987 was playing in player 564
https://data.brightcove.com/analytics-api/videocloud/account/123?where=player==564;video==987</code></pre>
</div>
</div>
      </div>
    </div>
    <!-- Functionality and Syntax Highlighting -->
    <script type="text/javascript" src="http://files.brightcove.com/google-code-prettify/prettify.js"></script>
    <script type="text/javascript">
        //
        // Syntax Highlighting
        //
        (function() {
            window.addEventListener('load', function() {
                prettyPrint();
            }, false);
        })();
    </script>
    <script type="text/javascript" src="http://files.brightcove.com/BCL_ddaccordion.js">
        /***********************************************
         * Accordion Content script- (c) Dynamic Drive DHTML code library }}}(www.dynamicdrive.com)
         * Visit http://www.dynamicDrive.com for hundreds of DHTML scripts
         * This notice must stay intact for legal use
         ***********************************************/
    </script>
    <script type="text/javascript">
        ddaccordion.init({
            headerclass : "expandable", //Shared CSS class name of headers group that are expandable
            contentclass : "categoryitems", //Shared CSS class name of contents group
            revealtype : "click", //Reveal content when user clicks or onmouseover the header? Valid value: "click", "clickgo", or "mouseover"
            mouseoverdelay : 200, //if revealtype="mouseover", set delay in milliseconds before header expands onMouseover
            collapseprev : true, //Collapse previous content (so only one open at any time)? true/false
            defaultexpanded : [0], //index of content(s) open by default [index1, index2, etc]. [] denotes no content
            onemustopen : false, //Specify whether at least one header should be open always (so never all headers closed)
            animatedefault : false, //Should contents open by default be animated into view?
            persiststate : false, //persist state of opened contents within browser session?
            toggleclass : ["", "openheader"], //Two CSS classes to be applied to the header when it's collapsed and expanded, respectively ["class1", "class2"]
            togglehtml : ["prefix", "", ""], //Additional HTML added to the header when it's collapsed and expanded, respectively  ["position", "html1", "html2"] (see docs)
            animatespeed : "fast", //speed of animation: integer in milliseconds (ie: 200), or keywords "fast", "normal", or "slow"
            oninit : function(headers, expandedindices) {//custom code to run when headers have initalized
                // do nothing
            },
            onopenclose : function(header, index, state, isuseractivated) {//custom code to run whenever a header is opened or closed
                //do nothing
            }
        })
    </script>
  </body>
</html>
