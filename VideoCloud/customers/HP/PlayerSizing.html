<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
	<head>
		<title>Player API Exercise 2</title>
		<style type="text/css">
		body {font-family : Helvetica,Arial,sans-serif;color : #835004}
		</style>
		<!-- the script below is just included for debugging -->
		<script type="text/javascript" src="http://files.brightcove.com/prettyprint.js"></script>
		<!-- script for debugging -->
		<script type="text/javascript">
		/*
	    This log function for debugging depends on James Padolsey's prettyprint.js, which you can download from http://james.padolsey.com/javascript/prettyprint-for-javascript/, or reference from http://files.brightcove.com/prettyprint.js -- the version there is very slightly modified
	    */
  		function log(message) {
    		var logEntry = prettyPrint(message);
    		document.getElementById("results").appendChild(logEntry);
  		}

		</script>

	</head>
	<body>
		<script type="text/javascript">
			// namespace for everything global
			var BCL = {};
			// initial setup in the special onTemplateLoaded() function
			function onTemplateLoaded(id) {
			  log("EVENT: TEMPLATE_LOADED");
			  BCL.player = brightcove.getExperience(id);
			  BCL.experienceModule = BCL.player.getModule(APIModules.EXPERIENCE);
			  BCL.experienceModule.addEventListener(BCExperienceEvent.TEMPLATE_READY, BCL.onTemplateReady);
			}
			// event listener for the player being ready
			BCL.onTemplateReady = function(event) {
			  log("BCL.onTemplateReady");
			  // remove event listener, get reference to video player, add media change listener
				BCL.experienceModule.removeEventListener(BCExperienceEvent.TEMPLATE_READY, BCL.onTemplateReady);
			  BCL.videoPlayer = BCL.player.getModule(APIModules.VIDEO_PLAYER);
			}

			
			BCL.set43Size = function(width) {
				var vpHeight = .75 * width;
				var pHeight;
				switch (BCL.vidPlayer) {
								case "VPWL":
								pHeight = vpHeight + 171;
								break;
								case "CVP":
								pHeight = vpHeight;
								break;
								case "AVP":
								pHeight = vpHeight + 90;
								break;
								case "WHL":
								alert("The video player component in this player has a fixed height, so there are only two values you can use for the width without letterboxing: for 4:3 videos, the width should be 533.33; for 16:9 videos, the width should be 711.11");
								break;
								case "TN3":
								alert("The video player component in this player has a fixed height, so there are only two values you can use for the width without letterboxing: for 4:3 videos, the width should be 541.33; for 16:9 videos, the width should be 721.77");
								break;
								case "VPDN":
								alert("The video player component in this player has a fixed height, so there are only two values you can use for the width without letterboxing: for 4:3 videos, the width should be 366.66; for 16:9 videos, the width should be 488.88");
								break;
								case "MOVP":
								pHeight = vpHeight + 90;
								break;
								case "MOWL":
								pHeight = vpHeight + 268;
								break;
								default:
								break;
				}
				if (pHeight !== null) {
					BCL.experienceModule.setSize(width,pHeight);
					log("New height: " + pHeight);
				}
				else {
					//log("The video player component for the WideScreen with Horizontal Playlist, Video Player with Dropdown Navigation, and Tabbed Navigation 3.0 players have a fixed height. Widths to avoid letterboxing should be set as follows" + <br /> + "Widescreen with Horizontal List:" + <br /> + "for 4:3 videos, the width should be 533.33; for 16:9 videos, the width should be 711.11"  + <br /> + "Tabbed Navigation 3.0:"  + <br /> + "for 4:3 videos, the width should be 541.33; for 16:9 videos, the width should be 721.77"  + <br /> + "Video Player with Dropdown Navigation:"  + <br /> + "for 4:3 videos, the width should be 366.66; for 16:9 videos, the width should be 488.88");
				}
			}
			BCL.set169Size = function(width) {
				var vpHeight = 9 / 16 * width;
				var pHeight;
				switch (BCL.vidPlayer) {
								case "VPWL":
								pHeight = vpHeight + 91;
								break;
								case "CVP":
								pHeight = vpHeight;
								break;
								case "AVP":
								pHeight = vpHeight + 90;
								break;
								case "WHL":
								alert("The video player component in this player has a fixed height, so there are only two values you can use for the width without letterboxing: for 4:3 videos, the width should be 533.33; for 16:9 videos, the width should be 711.11");
								break;
								case "TN3":
								alert("The video player component in this player has a fixed height, so there are only two values you can use for the width without letterboxing: for 4:3 videos, the width should be 541.33; for 16:9 videos, the width should be 721.77");
								break;
								case "VPDN":
								alert("The video player component in this player has a fixed height, so there are only two values you can use for the width without letterboxing: for 4:3 videos, the width should be 366.66; for 16:9 videos, the width should be 488.88");
								break;
								case "MOVP":
								pHeight = vpHeight + 90;
								break;
								case "MOWL":
								pHeight = vpHeight + 268;
								break;
								default:
								break;
				}
				if (pHeight !== null) {
					BCL.experienceModule.setSize(width,pHeight)
					log("New height: " + pHeight);
				}
				else {
				//	log("The video player component for the WideScreen with Horizontal Playlist, Video Player with Dropdown Navigation, and Tabbed Navigation 3.0 players have a fixed height. Widths to avoid letterboxing should be set as follows" + <br /> + "Widescreen with Horizontal List:" + <br /> + "for 4:3 videos, the width should be 533.33; for 16:9 videos, the width should be 711.11"  + <br /> + "Tabbed Navigation 3.0:"  + <br /> + "for 4:3 videos, the width should be 541.33; for 16:9 videos, the width should be 721.77"  + <br /> + "Video Player with Dropdown Navigation:"  + <br /> + "for 4:3 videos, the width should be 366.66; for 16:9 videos, the width should be 488.88");
				}
			}
		</script>
		<h1>Player S</h1>
		<script type="text/javascript" src="http://admin.brightcove.com/js/APIModules_all.js"></script>
		<!-- Start of Brightcove Player -->

<div style="display:none">

</div>

<!--
By use of this code snippet, I agree to the Brightcove Publisher T and C 
found at https://accounts.brightcove.com/en/terms-and-conditions/. 
-->

<script language="JavaScript" type="text/javascript" src="http://admin.brightcove.com/js/BrightcoveExperiences.js"></script>

<object id="myExperience" class="BrightcoveExperience">
  <param name="bgcolor" value="#FFFFFF" />
  <param name="width" value="480" />
  <param name="height" value="628" />
  <param name="playerID" value="1103965419001" />
  <param name="playerKey" value="AQ~~,AAAADXdqFgE~,aEKmio9UXagTm55wduKvkIyt7LLZu1bb" />
  <param name="isVid" value="true" />
  <param name="isUI" value="true" />
  <param name="dynamicStreaming" value="true" />
  
</object>

<!-- 
This script tag will cause the Brightcove Players defined above it to be created as soon
as the line is read by the browser. If you wish to have the player instantiated only after
the rest of the HTML is processed and the page load is complete, remove the line.
-->
<script type="text/javascript">brightcove.createExperiences();</script>

<!-- End of Brightcove Player -->		<fieldset>
		<legend>Sizing Controls</legend>
		<select id="playerSelector" onchange="BCL.vidPlayer = this.options[this.selectedIndex].value;">
			<option>Select the Player Type</option>
			<option value="VPWL">Video Player with Logo</option>
			<option value="CVP">Chromeless Video Player</option>
			<option value="AVP">Accessible Video Player</option>
			<option value="WHL">WideScreen with Horizontal List</option>
			<option value="TN3">Tabbed Navigation 3.0</option>
			<option value="VPDN">Video Player with Dropdown</option>
			<option value="MOVP">Mobile Optimized Player</option>
			<option value="MOWL">Mobile Optimized with Playlist</option>
		</select>
		<br /><br />
		<label>4:3 Width</label>
		<input type="text" id="43width" />
		<button onclick="BCL.set43Size(document.getElementById('43width').value);">Set 4:3 Player Size for this Width</button><br />
		<label>16:9 Width</label>
		<input type="text" id="169width" />
		<button onclick="BCL.set169Size(document.getElementById('169width').value);">Set 16:9 Player Size for this Width</button><br />
		</fieldset>
		<fieldset>
			<legend>Generated Code</legend>
			<div id="videoSelector"></div>
			<h3 id="displayName"></h3>
		</fieldset>

		<fieldset>
      <legend>Results</legend>
			<div id="results"></div>
    </fieldset>

	</body>
</html>
