<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>videojs.ima3 Tests</title>
  <link rel="stylesheet" href="../node_modules/qunitjs/qunit/qunit.css">
  <link rel="stylesheet" href="../node_modules/video.js/dist/video-js.min.css">
  <link rel="stylesheet" href="../src/videojs.ima3.css">
</head>
<body>
  <div id="qunit"></div>
  <div id="qunit-fixture"></div>

  <!-- Lodash, for convenience in tests -->
  <script src="../node_modules/lodash/index.js"></script>

  <!-- Load local QUnit/sinon. -->
  <script src="../node_modules/qunitjs/qunit/qunit.js"></script>
  <script>
    // There is a lot of setTimeout spaghetti in this plugin/tests/video.js,
    // so we don't want QUnit to reorder tests on failure because it seems
    // to occassionally cause problems.
    QUnit.config.reorder = false;
  </script>
  <script src="../node_modules/sinon/pkg/sinon.js"></script>

  <!-- Code Coverage -->
  <script src="../node_modules/blanket/dist/qunit/blanket.min.js"></script>
  <script>
    if (location.href.match(/(\?|&)gruntReport($|&|=)/)) {
     blanket.options("reporter", "../node_modules/grunt-blanket-qunit/reporter/grunt-reporter.js");
    }
  </script>

  <script src="../node_modules/video.js/dist/video.js"></script>
  <script src="../node_modules/videojs-contrib-ads/src/videojs.ads.js"></script>
  <script src="../src/videojs.ima3.js" data-cover></script>
  <script src="../src/videojs.ima3-html5.js" data-cover></script>
  <script src="../src/videojs.ima3-flash.js" data-cover></script>

  <script>
    // phantomjs doesn't support Flash, so tracking progress and timeupdate
    // manual causes errors. Neither feature is particularly important to IMA3,
    // so turn it off for the tests.
    videojs.getComponent('Tech').prototype.featuresProgressEvents = true;
    videojs.getComponent('Tech').prototype.featuresTimeupdateEvents = true;
  </script>

  <script src="helpers.js"></script>
  <script src="shared-module-hooks.js"></script>
  <script src="videojs.ima3.test.js"></script>
  <script src="videojs.ima3-html5.test.js"></script>
  <script src="videojs.ima3-flash.test.js"></script>
</body>
</html>
